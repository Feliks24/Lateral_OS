TODO:

theorie

Lateral_OS
1.memory remap 
2.set up stacks
3.IVT (handler)
4.testen von handler

Usermodi (Folien Seite 9)
	User 	10000
	FIQ  	10001
	IRQ  	10010
	Supervisor
	     	10011
	Abort	10111
	Undefined 11011
	System 	11111

IVC adresses (Slide 4 Folie 15 )

Reihenfolge von Ausnahmen(slide 4 folie 18)
	1.Reset
		-> prozessabbruch 
	2.Data abort
		-> prozessabbruch?
	3.FIQ
		-> fortsetzung
	4.IRQ
		-> fortsetzung
	5. Prefetch abort
		-> prozessabbruch?
	7.software interrupt
		-> 
	6.Undefined instr
		-> prozessabbruch?

	data abort, prefetch abort, undefined inst ??

R13 stack pointer
R14 Link register
R15 Program Counter
CPSR and SPSR separate

Assembler in folie 4 ende

set mode back and pc simaltanously(handler)
	set modi in SPSR (saved program status registry)
	use SUBS PC, LR, #4
	or  SUBS PC, LR, #8
	
	SUBS is SUB with S-bit set(suffix)
	S-bit set + PC as target => SPSR moved to CPSR(current program 
	status registry)
	


malloc(...)
-> memory allocation
free()

malloc some space for stack somewhere?
and set SP for each mode to each stack

